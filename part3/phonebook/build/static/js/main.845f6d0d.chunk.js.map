{"version":3,"sources":["components/Filter.js","services/phonebook.js","components/PersonForm.js","components/Person.js","components/Notification.js","App.js","index.js"],"names":["Filter","setFilter","onChange","event","target","value","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","containsKeyValue","arr","key","needle","toLowerCase","find","haystack","PersonForm","persons","setPersons","setNotification","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","alert","found","n","name","window","confirm","changed","number","phonebookService","returnedPerson","map","person","catch","error","concat","setTimeout","type","Person","deletePerson","onClick","Notification","notification","className","message","App","filter","useEffect","allPersons","includes","searchKeyValue","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.845f6d0d.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ setFilter }) => {\n\tconst handleFilterChange = (event) => {\n\t\tsetFilter(event.target.value)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\tfilter shown with <input onChange={handleFilterChange} />\n\t\t</div>\n\t)\n}\n\nexport default Filter\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n\nexport default { getAll, create, update, remove }\n","import React, { useState } from 'react'\nimport phonebookService from './../services/phonebook'\n\nconst containsKeyValue = (arr, key, value) => {\n\tconst needle = value.toLowerCase()\n\tconst found = arr.find((haystack) => {\n\t\treturn (haystack[key].toLowerCase() === needle)\n\t})\n\treturn typeof found !== 'undefined'\n}\n\nconst PersonForm = ({ persons, setPersons, setNotification }) => {\n\tconst [ newName, setNewName ] = useState('')\n\tconst [ newNumber, setNewNumber ] = useState('')\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault()\n\t\tif (newName === '' || newNumber === '')\n\t\t\treturn\n\t\telse if (containsKeyValue(persons, 'number', newNumber)) {\n\t\t\t\talert(`Number ${newNumber} is already added to phonebook`)\n\t\t} else if (containsKeyValue(persons, 'name', newName)) {\n\t\t\tconst found = persons.find(n => n.name === newName)\n\t\t\tif (window.confirm(found.name + ' already exists, update number?'))\n\t\t\t{\n\t\t\t\tconst changed = { ...found, number: newNumber}\n\t\t\t\tphonebookService\n\t\t\t\t\t.update(found.id, changed)\n\t\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\t\tsetPersons(persons.map(person => person.id !== found.id ? person : returnedPerson))\n\t\t\t\t\t\tsetNewName('')\n\t\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\talert(\n\t\t\t\t\t\t\t`couldn't change number to phonebook on server`\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\tconst person = { name: newName, number: newNumber }\n\t\t\tphonebookService\n\t\t\t\t.create(person)\n\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\tsetPersons(persons.concat(returnedPerson))\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\t\"message\": `Added ${returnedPerson.name}`,\n\t\t\t\t\t\t\"type\": \"notification\"\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotification(null)\n\t\t\t\t\t}, 5000)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\talert(\n\t\t\t\t\t\t`couldn't add person to phonebook on server`\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value)\n\t}\n\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value)\n\t}\n\n\treturn (\n\t\t<form onSubmit={addPerson}>\n\t\t\t\t<div>\n\t\t\t\t\tname: <input value={newName} onChange={handleNameChange} />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\tnumber: <input value={newNumber} onChange={handleNumberChange}  />\n\t\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({name, number, deletePerson}) => {\n\treturn (\n\t\t<div>\n\t\t\t{name} {number} <button onClick={deletePerson} >delete</button>\n\t\t</div>\n\t)\n}\n\nexport default Person\n","import React from 'react'\n\nconst Notification = ({ notification }) => {\n\tif (notification === null) {\n\t\treturn null\n\t}\n\tif (notification.type === 'notification') {\n\t\treturn (\n\t\t\t<div className=\"notification\">\n\t\t\t\t{notification.message}\n\t\t\t</div>\n\t\t)\n\t}\n\tif (notification.type === 'error') {\n\t\treturn (\n\t\t\t<div className=\"error\">\n\t\t\t\t{notification.message}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Notification from './components/Notification'\nimport phonebookService from './services/phonebook'\n\nconst searchKeyValue = (arr, key, value) => {\n\tconst needle = value.toLowerCase()\n\tconst filtered = arr.filter((haystack) => haystack[key].toLowerCase().includes(needle))\n\treturn filtered\n}\n\nconst App = () => {\n\tconst [ persons, setPersons ] = useState([])\n\tconst [ filter, setFilter ] = useState('')\n\tconst [ notification, setNotification] = useState(null)\n\n\tuseEffect(() => {\n\t\tphonebookService\n\t\t\t.getAll()\n\t\t\t.then(allPersons => {\n\t\t\t\tsetPersons(allPersons)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\talert(\n\t\t\t\t\t`couldn't retrieve phonebook from server`\n\t\t\t\t)\n\t\t\t})\n\t}, [])\n\n\tconst deletePerson = (person) => {\n\t\tif (window.confirm('Delete ' + person.name + '?'))\n\t\t\tphonebookService\n\t\t\t\t.remove(person.id)\n\t\t\t\t.then( () => setPersons(persons.filter(n => n.id !== person.id)))\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\t\"message\": `couldn't delete '${person.name}' from server`,\n\t\t\t\t\t\t\"type\": \"error\"\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotification(null)\n\t\t\t\t\t}, 5000)\n\t\t\t\t\tsetPersons(persons.filter(n => n.name !== person.name))\n\t\t\t\t})\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Phonebook</h1>\n\t\t\t<Notification notification={notification} />\n\t\t\t<Filter setFilter={setFilter} />\n\t\t\t<h2>Add a new</h2>\n\t\t\t<PersonForm persons={persons} setPersons={setPersons} setNotification={setNotification} />\n\t\t\t<h2>Numbers</h2>\n\t\t\t{searchKeyValue(persons, 'name', filter).map((person) => \n\t\t\t\t<Person key={person.name} name={person.name} number={person.number} deletePerson={ () => deletePerson(person)} />\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}